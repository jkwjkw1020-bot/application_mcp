/**
 * 대기업 서류 평가 기준 도출
 * must_show, acceptable, red_flags 포함
 */

export async function deriveEnterpriseEvaluationLogic({ company, role = '신입 직무' }) {
  const baseLogic = {
    company,
    role,
    evaluation_criteria: {}
  };

  if (company === '삼성전자') {
    baseLogic.evaluation_criteria = {
      must_show: {
        기술역량: {
          설명: '기술적 깊이와 전문성 증명',
          예시: ['프로젝트에서 기술적 난제 해결', '기술 관련 인증/수상', '기술 블로그/포트폴리오']
        },
        문제해결능력: {
          설명: '구체적 문제 상황에서의 해결 과정',
          예시: ['STAR 구조의 명확한 사례', '정량적 결과 제시', '복합적 문제 해결 경험']
        },
        학습능력: {
          설명: '지속적인 성장과 학습 의지',
          예시: ['자기주도 학습', '새로운 기술 습득', '성장 과정의 구체적 서술']
        },
        장기관점: {
          설명: '장기적 목표와 비전',
          예시: ['명확한 커리어 목표', '삼성과의 연결점', '장기적 기여 의지']
        }
      },
      acceptable: {
        협업경험: {
          설명: '팀 프로젝트나 협업 경험 (필수는 아니지만 가산점)',
          예시: ['팀 프로젝트', '동아리 활동', '오픈소스 기여']
        },
        리더십: {
          설명: '리더 역할 경험 (신입에게는 필수 아님)',
          예시: ['팀 리더', '동아리 회장', '멘토링']
        },
        글로벌경험: {
          설명: '해외 경험이나 글로벌 역량',
          예시: ['해외 연수', '글로벌 프로젝트', '외국어 능력']
        }
      },
      red_flags: {
        기술부재: {
          설명: '기술적 역량이 전혀 드러나지 않음',
          예시: ['기술 관련 경험 부재', '추상적 서술만 존재']
        },
        결과부재: {
          설명: '구체적 결과나 성과가 없음',
          예시: ['정량적 지표 부재', '모호한 성과 서술']
        },
        비논리적서술: {
          설명: '논리적 흐름이 없거나 일관성 부족',
          예시: ['인과관계 불명확', 'STAR 구조 미준수']
        },
        과장된표현: {
          설명: '과도하게 과장되거나 비현실적',
          예시: ['비현실적 수치', '과장된 역할 서술']
        },
        기업이해부족: {
          설명: '삼성에 대한 이해가 부족하거나 일반적 서술',
          예시: ['삼성 특화 내용 부재', '다른 기업에도 적용 가능한 일반적 서술']
        }
      }
    };
  } else if (company === 'SK') {
    baseLogic.evaluation_criteria = {
      must_show: {
        협업능력: {
          설명: '팀워크와 협업을 통한 성과 창출',
          예시: ['팀 프로젝트에서의 역할', '갈등 해결 경험', '협업을 통한 성과']
        },
        변화적응력: {
          설명: '변화하는 환경에 대한 적응과 혁신',
          예시: ['새로운 환경 적응', '변화를 통한 성장', '유연한 사고']
        },
        혁신적사고: {
          설명: '기존 방식을 개선하거나 새로운 접근',
          예시: ['프로세스 개선', '창의적 해결책', '새로운 시도']
        },
        상생가치: {
          설명: '함께 성장하는 가치와 경험',
          예시: ['멘토링', '지식 공유', '상호 성장 경험']
        }
      },
      acceptable: {
        기술역량: {
          설명: '기술적 역량 (필수는 아니지만 가산점)',
          예시: ['기술 프로젝트', '개발 경험', '기술 학습']
        },
        리더십: {
          설명: '리더 역할 경험',
          예시: ['팀 리더', '프로젝트 리더', '조직 운영']
        },
        다각화경험: {
          설명: '다양한 분야 경험',
          예시: ['다양한 프로젝트', '교차 기능 경험']
        }
      },
      red_flags: {
        개인주의: {
          설명: '협업보다 개인 성과만 강조',
          예시: ['팀 경험 부재', '협업 부정적 언급']
        },
        경직된사고: {
          설명: '변화를 거부하거나 기존 방식 고수',
          예시: ['변화 부정적', '유연성 부족']
        },
        상생가치부재: {
          설명: '함께 성장하는 가치가 드러나지 않음',
          예시: ['개인 성과만 강조', '상호 성장 경험 부재']
        },
        비논리적서술: {
          설명: '논리적 흐름이 없거나 일관성 부족',
          예시: ['인과관계 불명확', '구조적 문제']
        },
        기업이해부족: {
          설명: 'SK의 상생 경영과 혁신 문화에 대한 이해 부족',
          예시: ['SK 특화 내용 부재', '일반적 서술']
        }
      }
    };
  } else {
    throw new Error(`지원하지 않는 기업: ${company}`);
  }

  return baseLogic;
}

